import { defer, merge, Notification, Subject, } from 'rxjs';
import { concatMap, dematerialize, filter, finalize, map, materialize, } from 'rxjs/operators';
export function act(
/** Allow to take either config object or project/error functions */
configOrProject, errorFn) {
    const { project, error, complete, operator, unsubscribe } = typeof configOrProject === 'function'
        ? {
            project: configOrProject,
            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion
            error: errorFn,
            operator: concatMap,
            complete: undefined,
            unsubscribe: undefined,
        }
        : Object.assign(Object.assign({}, configOrProject), { operator: configOrProject.operator || concatMap });
    return (source) => defer(() => {
        const subject = new Subject();
        return merge(source.pipe(operator((input, index) => defer(() => {
            let completed = false;
            let errored = false;
            let projectedCount = 0;
            return project(input, index).pipe(materialize(), map((notification) => {
                switch (notification.kind) {
                    case 'E':
                        errored = true;
                        return new Notification('N', error(notification.error, input));
                    case 'C':
                        completed = true;
                        return complete
                            ? new Notification('N', complete(projectedCount, input))
                            : undefined;
                    default:
                        ++projectedCount;
                        return notification;
                }
            }), filter((n) => n != null), dematerialize(), finalize(() => {
                if (!completed && !errored && unsubscribe) {
                    subject.next(unsubscribe(projectedCount, input));
                }
            }));
        }))), subject);
    });
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYWN0LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vbW9kdWxlcy9lZmZlY3RzL3NyYy9hY3QudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0EsT0FBTyxFQUNMLEtBQUssRUFDTCxLQUFLLEVBQ0wsWUFBWSxFQUdaLE9BQU8sR0FDUixNQUFNLE1BQU0sQ0FBQztBQUNkLE9BQU8sRUFDTCxTQUFTLEVBQ1QsYUFBYSxFQUNiLE1BQU0sRUFDTixRQUFRLEVBQ1IsR0FBRyxFQUNILFdBQVcsR0FDWixNQUFNLGdCQUFnQixDQUFDO0FBOER4QixNQUFNLFVBQVUsR0FBRztBQU9qQixvRUFBb0U7QUFDcEUsZUFRK0QsRUFDL0QsT0FBbUQ7SUFNbkQsTUFBTSxFQUFFLE9BQU8sRUFBRSxLQUFLLEVBQUUsUUFBUSxFQUFFLFFBQVEsRUFBRSxXQUFXLEVBQUUsR0FDdkQsT0FBTyxlQUFlLEtBQUssVUFBVTtRQUNuQyxDQUFDLENBQUM7WUFDRSxPQUFPLEVBQUUsZUFBZTtZQUN4QixvRUFBb0U7WUFDcEUsS0FBSyxFQUFFLE9BQVE7WUFDZixRQUFRLEVBQUUsU0FBUztZQUNuQixRQUFRLEVBQUUsU0FBUztZQUNuQixXQUFXLEVBQUUsU0FBUztTQUN2QjtRQUNILENBQUMsaUNBQU0sZUFBZSxLQUFFLFFBQVEsRUFBRSxlQUFlLENBQUMsUUFBUSxJQUFJLFNBQVMsR0FBRSxDQUFDO0lBTzlFLE9BQU8sQ0FBQyxNQUFNLEVBQUUsRUFBRSxDQUNoQixLQUFLLENBQ0gsR0FBNkIsRUFBRTtRQUM3QixNQUFNLE9BQU8sR0FBRyxJQUFJLE9BQU8sRUFBcUIsQ0FBQztRQUNqRCxPQUFPLEtBQUssQ0FDVixNQUFNLENBQUMsSUFBSSxDQUNULFFBQVEsQ0FBQyxDQUFDLEtBQUssRUFBRSxLQUFLLEVBQUUsRUFBRSxDQUN4QixLQUFLLENBQUMsR0FBRyxFQUFFO1lBQ1QsSUFBSSxTQUFTLEdBQUcsS0FBSyxDQUFDO1lBQ3RCLElBQUksT0FBTyxHQUFHLEtBQUssQ0FBQztZQUNwQixJQUFJLGNBQWMsR0FBRyxDQUFDLENBQUM7WUFDdkIsT0FBTyxPQUFPLENBQUMsS0FBSyxFQUFFLEtBQUssQ0FBQyxDQUFDLElBQUksQ0FDL0IsV0FBVyxFQUFFLEVBQ2IsR0FBRyxDQUFDLENBQUMsWUFBWSxFQU9ILEVBQUU7Z0JBQ2QsUUFBUSxZQUFZLENBQUMsSUFBSSxFQUFFO29CQUN6QixLQUFLLEdBQUc7d0JBQ04sT0FBTyxHQUFHLElBQUksQ0FBQzt3QkFDZixPQUFPLElBQUksWUFBWSxDQUNyQixHQUFHLEVBQ0gsS0FBSyxDQUFDLFlBQVksQ0FBQyxLQUFLLEVBQUUsS0FBSyxDQUFDLENBSWpDLENBQUM7b0JBQ0osS0FBSyxHQUFHO3dCQUNOLFNBQVMsR0FBRyxJQUFJLENBQUM7d0JBQ2pCLE9BQU8sUUFBUTs0QkFDYixDQUFDLENBQUUsSUFBSSxZQUFZLENBQ2YsR0FBRyxFQUNILFFBQVEsQ0FBQyxjQUFjLEVBQUUsS0FBSyxDQUFDLENBSS9COzRCQUNKLENBQUMsQ0FBQyxTQUFTLENBQUM7b0JBQ2hCO3dCQUNFLEVBQUUsY0FBYyxDQUFDO3dCQUNqQixPQUFPLFlBR04sQ0FBQztpQkFDTDtZQUNILENBQUMsQ0FBQyxFQUNGLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBOEIsRUFBRSxDQUFDLENBQUMsSUFBSSxJQUFJLENBQUMsRUFDcEQsYUFBYSxFQUFFLEVBQ2YsUUFBUSxDQUFDLEdBQUcsRUFBRTtnQkFDWixJQUFJLENBQUMsU0FBUyxJQUFJLENBQUMsT0FBTyxJQUFJLFdBQVcsRUFBRTtvQkFDekMsT0FBTyxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsY0FBYyxFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUM7aUJBQ2xEO1lBQ0gsQ0FBQyxDQUFDLENBQ0gsQ0FBQztRQUNKLENBQUMsQ0FBQyxDQUNILENBQ0YsRUFDRCxPQUFPLENBQ1IsQ0FBQztJQUNKLENBQUMsQ0FDRixDQUFDO0FBQ04sQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFjdGlvbiB9IGZyb20gJ0BuZ3J4L3N0b3JlJztcbmltcG9ydCB7XG4gIGRlZmVyLFxuICBtZXJnZSxcbiAgTm90aWZpY2F0aW9uLFxuICBPYnNlcnZhYmxlLFxuICBPcGVyYXRvckZ1bmN0aW9uLFxuICBTdWJqZWN0LFxufSBmcm9tICdyeGpzJztcbmltcG9ydCB7XG4gIGNvbmNhdE1hcCxcbiAgZGVtYXRlcmlhbGl6ZSxcbiAgZmlsdGVyLFxuICBmaW5hbGl6ZSxcbiAgbWFwLFxuICBtYXRlcmlhbGl6ZSxcbn0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuXG4vKiogUmVwcmVzZW50cyBjb25maWcgd2l0aCBuYW1lZCBwYXJhbWV0ZXJzIGZvciBhY3QgKi9cbmV4cG9ydCBpbnRlcmZhY2UgQWN0Q29uZmlnPFxuICBJbnB1dCxcbiAgT3V0cHV0QWN0aW9uIGV4dGVuZHMgQWN0aW9uLFxuICBFcnJvckFjdGlvbiBleHRlbmRzIEFjdGlvbixcbiAgQ29tcGxldGVBY3Rpb24gZXh0ZW5kcyBBY3Rpb24sXG4gIFVuc3Vic2NyaWJlQWN0aW9uIGV4dGVuZHMgQWN0aW9uXG4+IHtcbiAgLy8gUHJvamVjdCBmdW5jdGlvbiB0aGF0IHByb2R1Y2VzIHRoZSBvdXRwdXQgYWN0aW9ucyBpbiBzdWNjZXNzIGNhc2VzXG4gIHByb2plY3Q6IChpbnB1dDogSW5wdXQsIGluZGV4OiBudW1iZXIpID0+IE9ic2VydmFibGU8T3V0cHV0QWN0aW9uPjtcbiAgLy8gRXJyb3IgaGFuZGxlIGZ1bmN0aW9uIGZvciBwcm9qZWN0XG4gIC8vIGVycm9yIHRoYXQgaGFwcGVuZWQgZHVyaW5nIHByb2plY3QgZXhlY3V0aW9uXG4gIC8vIGlucHV0IHZhbHVlIHRoYXQgcHJvamVjdCBlcnJvcmVkIHdpdGhcbiAgZXJyb3I6IChlcnJvcjogYW55LCBpbnB1dDogSW5wdXQpID0+IEVycm9yQWN0aW9uO1xuICAvLyBPcHRpb25hbCBjb21wbGV0ZSBhY3Rpb24gcHJvdmlkZXJcbiAgLy8gY291bnQgaXMgdGhlIG51bWJlciBvZiBhY3Rpb25zIHByb2plY3QgZW1pdHRlZCBiZWZvcmUgY29tcGxldGlvblxuICAvLyBpbnB1dCB2YWx1ZSB0aGF0IHByb2plY3QgY29tcGxldGVkIHdpdGhcbiAgY29tcGxldGU/OiAoY291bnQ6IG51bWJlciwgaW5wdXQ6IElucHV0KSA9PiBDb21wbGV0ZUFjdGlvbjtcbiAgLy8gT3B0aW9uYWwgZmxhdHRlbmluZyBvcGVyYXRvclxuICBvcGVyYXRvcj86IDxJbnB1dCwgT3V0cHV0QWN0aW9uPihcbiAgICBwcm9qZWN0OiAoaW5wdXQ6IElucHV0LCBpbmRleDogbnVtYmVyKSA9PiBPYnNlcnZhYmxlPE91dHB1dEFjdGlvbj5cbiAgKSA9PiBPcGVyYXRvckZ1bmN0aW9uPElucHV0LCBPdXRwdXRBY3Rpb24+O1xuICAvLyBPcHRpb25hbCB1bnN1YnNjcmliZSBhY3Rpb24gcHJvdmlkZXJcbiAgLy8gY291bnQgaXMgdGhlIG51bWJlciBvZiBhY3Rpb25zIHByb2plY3QgZW1pdHRlZCBiZWZvcmUgdW5zdWJzY3JpYmluZ1xuICAvLyBpbnB1dCB2YWx1ZSB0aGF0IHdhcyB1bnN1YnNjcmliZWQgZnJvbVxuICB1bnN1YnNjcmliZT86IChjb3VudDogbnVtYmVyLCBpbnB1dDogSW5wdXQpID0+IFVuc3Vic2NyaWJlQWN0aW9uO1xufVxuXG4vKipcbiAqIFdyYXBzIHByb2plY3QgZm4gd2l0aCBlcnJvciBoYW5kbGluZyBtYWtpbmcgaXQgc2FmZSB0byB1c2UgaW4gRWZmZWN0cy5cbiAqIFRha2VzIGVpdGhlciBjb25maWcgd2l0aCBuYW1lZCBwcm9wZXJ0aWVzIHRoYXQgcmVwcmVzZW50IGRpZmZlcmVudCBwb3NzaWJsZVxuICogY2FsbGJhY2tzIG9yIHByb2plY3QvZXJyb3IgY2FsbGJhY2tzIHRoYXQgYXJlIHJlcXVpcmVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gYWN0PFxuICBJbnB1dCxcbiAgT3V0cHV0QWN0aW9uIGV4dGVuZHMgQWN0aW9uLFxuICBFcnJvckFjdGlvbiBleHRlbmRzIEFjdGlvblxuPihcbiAgcHJvamVjdDogKGlucHV0OiBJbnB1dCwgaW5kZXg6IG51bWJlcikgPT4gT2JzZXJ2YWJsZTxPdXRwdXRBY3Rpb24+LFxuICBlcnJvcjogKGVycm9yOiBhbnksIGlucHV0OiBJbnB1dCkgPT4gRXJyb3JBY3Rpb25cbik6IChzb3VyY2U6IE9ic2VydmFibGU8SW5wdXQ+KSA9PiBPYnNlcnZhYmxlPE91dHB1dEFjdGlvbiB8IEVycm9yQWN0aW9uPjtcbmV4cG9ydCBmdW5jdGlvbiBhY3Q8XG4gIElucHV0LFxuICBPdXRwdXRBY3Rpb24gZXh0ZW5kcyBBY3Rpb24sXG4gIEVycm9yQWN0aW9uIGV4dGVuZHMgQWN0aW9uLFxuICBDb21wbGV0ZUFjdGlvbiBleHRlbmRzIEFjdGlvbiA9IG5ldmVyLFxuICBVbnN1YnNjcmliZUFjdGlvbiBleHRlbmRzIEFjdGlvbiA9IG5ldmVyXG4+KFxuICBjb25maWc6IEFjdENvbmZpZzxcbiAgICBJbnB1dCxcbiAgICBPdXRwdXRBY3Rpb24sXG4gICAgRXJyb3JBY3Rpb24sXG4gICAgQ29tcGxldGVBY3Rpb24sXG4gICAgVW5zdWJzY3JpYmVBY3Rpb25cbiAgPlxuKTogKFxuICBzb3VyY2U6IE9ic2VydmFibGU8SW5wdXQ+XG4pID0+IE9ic2VydmFibGU8XG4gIE91dHB1dEFjdGlvbiB8IEVycm9yQWN0aW9uIHwgQ29tcGxldGVBY3Rpb24gfCBVbnN1YnNjcmliZUFjdGlvblxuPjtcbmV4cG9ydCBmdW5jdGlvbiBhY3Q8XG4gIElucHV0LFxuICBPdXRwdXRBY3Rpb24gZXh0ZW5kcyBBY3Rpb24sXG4gIEVycm9yQWN0aW9uIGV4dGVuZHMgQWN0aW9uLFxuICBDb21wbGV0ZUFjdGlvbiBleHRlbmRzIEFjdGlvbiA9IG5ldmVyLFxuICBVbnN1YnNjcmliZUFjdGlvbiBleHRlbmRzIEFjdGlvbiA9IG5ldmVyXG4+KFxuICAvKiogQWxsb3cgdG8gdGFrZSBlaXRoZXIgY29uZmlnIG9iamVjdCBvciBwcm9qZWN0L2Vycm9yIGZ1bmN0aW9ucyAqL1xuICBjb25maWdPclByb2plY3Q6XG4gICAgfCBBY3RDb25maWc8XG4gICAgICAgIElucHV0LFxuICAgICAgICBPdXRwdXRBY3Rpb24sXG4gICAgICAgIEVycm9yQWN0aW9uLFxuICAgICAgICBDb21wbGV0ZUFjdGlvbixcbiAgICAgICAgVW5zdWJzY3JpYmVBY3Rpb25cbiAgICAgID5cbiAgICB8ICgoaW5wdXQ6IElucHV0LCBpbmRleDogbnVtYmVyKSA9PiBPYnNlcnZhYmxlPE91dHB1dEFjdGlvbj4pLFxuICBlcnJvckZuPzogKGVycm9yOiBhbnksIGlucHV0OiBJbnB1dCkgPT4gRXJyb3JBY3Rpb25cbik6IChcbiAgc291cmNlOiBPYnNlcnZhYmxlPElucHV0PlxuKSA9PiBPYnNlcnZhYmxlPFxuICBPdXRwdXRBY3Rpb24gfCBFcnJvckFjdGlvbiB8IENvbXBsZXRlQWN0aW9uIHwgVW5zdWJzY3JpYmVBY3Rpb25cbj4ge1xuICBjb25zdCB7IHByb2plY3QsIGVycm9yLCBjb21wbGV0ZSwgb3BlcmF0b3IsIHVuc3Vic2NyaWJlIH0gPVxuICAgIHR5cGVvZiBjb25maWdPclByb2plY3QgPT09ICdmdW5jdGlvbidcbiAgICAgID8ge1xuICAgICAgICAgIHByb2plY3Q6IGNvbmZpZ09yUHJvamVjdCxcbiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLW5vbi1udWxsLWFzc2VydGlvblxuICAgICAgICAgIGVycm9yOiBlcnJvckZuISxcbiAgICAgICAgICBvcGVyYXRvcjogY29uY2F0TWFwLFxuICAgICAgICAgIGNvbXBsZXRlOiB1bmRlZmluZWQsXG4gICAgICAgICAgdW5zdWJzY3JpYmU6IHVuZGVmaW5lZCxcbiAgICAgICAgfVxuICAgICAgOiB7IC4uLmNvbmZpZ09yUHJvamVjdCwgb3BlcmF0b3I6IGNvbmZpZ09yUHJvamVjdC5vcGVyYXRvciB8fCBjb25jYXRNYXAgfTtcblxuICB0eXBlIFJlc3VsdEFjdGlvbiA9XG4gICAgfCBPdXRwdXRBY3Rpb25cbiAgICB8IEVycm9yQWN0aW9uXG4gICAgfCBDb21wbGV0ZUFjdGlvblxuICAgIHwgVW5zdWJzY3JpYmVBY3Rpb247XG4gIHJldHVybiAoc291cmNlKSA9PlxuICAgIGRlZmVyKFxuICAgICAgKCk6IE9ic2VydmFibGU8UmVzdWx0QWN0aW9uPiA9PiB7XG4gICAgICAgIGNvbnN0IHN1YmplY3QgPSBuZXcgU3ViamVjdDxVbnN1YnNjcmliZUFjdGlvbj4oKTtcbiAgICAgICAgcmV0dXJuIG1lcmdlKFxuICAgICAgICAgIHNvdXJjZS5waXBlKFxuICAgICAgICAgICAgb3BlcmF0b3IoKGlucHV0LCBpbmRleCkgPT5cbiAgICAgICAgICAgICAgZGVmZXIoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGxldCBjb21wbGV0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBsZXQgZXJyb3JlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGxldCBwcm9qZWN0ZWRDb3VudCA9IDA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHByb2plY3QoaW5wdXQsIGluZGV4KS5waXBlKFxuICAgICAgICAgICAgICAgICAgbWF0ZXJpYWxpemUoKSxcbiAgICAgICAgICAgICAgICAgIG1hcCgobm90aWZpY2F0aW9uKTpcbiAgICAgICAgICAgICAgICAgICAgfCAoTm90aWZpY2F0aW9uPFxuICAgICAgICAgICAgICAgICAgICAgICAgRXJyb3JBY3Rpb24gfCBDb21wbGV0ZUFjdGlvbiB8IE91dHB1dEFjdGlvblxuICAgICAgICAgICAgICAgICAgICAgID4gJiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBraW5kOiAnTic7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogRXJyb3JBY3Rpb24gfCBDb21wbGV0ZUFjdGlvbiB8IE91dHB1dEFjdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICB8IHVuZGVmaW5lZCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAobm90aWZpY2F0aW9uLmtpbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgICBjYXNlICdFJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBOb3RpZmljYXRpb24oXG4gICAgICAgICAgICAgICAgICAgICAgICAgICdOJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3Iobm90aWZpY2F0aW9uLmVycm9yLCBpbnB1dClcbiAgICAgICAgICAgICAgICAgICAgICAgICkgYXMgTm90aWZpY2F0aW9uPEVycm9yQWN0aW9uPiAmIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAga2luZDogJ04nO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogRXJyb3JBY3Rpb247XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ0MnOlxuICAgICAgICAgICAgICAgICAgICAgICAgY29tcGxldGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjb21wbGV0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICA/IChuZXcgTm90aWZpY2F0aW9uKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ04nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcGxldGUocHJvamVjdGVkQ291bnQsIGlucHV0KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgYXMgTm90aWZpY2F0aW9uPENvbXBsZXRlQWN0aW9uPiAmIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtpbmQ6ICdOJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBDb21wbGV0ZUFjdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgKytwcm9qZWN0ZWRDb3VudDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBub3RpZmljYXRpb24gYXMgTm90aWZpY2F0aW9uPE91dHB1dEFjdGlvbj4gJiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGtpbmQ6ICdOJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IE91dHB1dEFjdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgZmlsdGVyKChuKTogbiBpcyBOb25OdWxsYWJsZTx0eXBlb2Ygbj4gPT4gbiAhPSBudWxsKSxcbiAgICAgICAgICAgICAgICAgIGRlbWF0ZXJpYWxpemUoKSxcbiAgICAgICAgICAgICAgICAgIGZpbmFsaXplKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjb21wbGV0ZWQgJiYgIWVycm9yZWQgJiYgdW5zdWJzY3JpYmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICBzdWJqZWN0Lm5leHQodW5zdWJzY3JpYmUocHJvamVjdGVkQ291bnQsIGlucHV0KSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIClcbiAgICAgICAgICApLFxuICAgICAgICAgIHN1YmplY3RcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICApO1xufVxuIl19